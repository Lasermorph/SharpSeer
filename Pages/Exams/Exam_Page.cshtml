@page
@using SharpSeer.Models
@using static SharpSeer.Models.Exam
@model SharpSeer.Pages.Exams.Exam_PageModel
@{
}

<head>
<style>
* {box-sizing: border-box;}
ul {list-style-type: none;}
body {font-family: Verdana, sans-serif;}

.month {
  padding: 70px 25px;
  width: 100%;
  background: #1abc9c;
  text-align: center;
}

.month ul {
  margin: 0;
  padding: 0;
}

.month ul li {
  color: white;
  font-size: 20px;
  text-transform: uppercase;
  letter-spacing: 3px;
}

.month .prev {
  float: left;
  padding-top: 10px;
}

.month .next {
  float: right;
  padding-top: 10px;
}

.weekdays {
  margin: 0;
  padding: 10px 0;
  background-color: #ddd;
}

.weekdays li {
  display: inline-block;
  width: 13.6%;
  color: #666;
  text-align: center;
}

.days {
  padding: 10px 0;
  background: #eee;
  margin: 0;
}

.days li {
  list-style-type: none;
  display: inline-block;
  width: 13.6%;
  text-align: center;
  margin-bottom: 5px;
  font-size:12px;
  color: #777;
}

.days li .active {
  padding: 5px;
  background: #1abc9c;
  color: white !important
}

@* /* Add media queries for smaller screens */
@media screen and (max-width:720px) {
  .weekdays li, .days li {width: 13.1%;}
}

@media screen and (max-width: 420px) {
  .weekdays li, .days li {width: 12.5%;}
  .days li .active {padding: 2px;}
}

@media screen and (max-width: 290px) {
  .weekdays li, .days li {width: 12.2%;}
} *@
</style>
</head>

<div class="month">      
  <ul>
    <li class="prev">&#10094;</li>
    <li class="next">&#10095;</li>
    <li>
      August<br>
      <span style="font-size:18px">2021</span>
    </li>
  </ul>
</div>

<ul class="weekdays">
  <li>Mo</li>
  <li>Tu</li>
  <li>We</li>
  <li>Th</li>
  <li>Fr</li>
  <li>Sa</li>
  <li>Su</li>
</ul>

<ul class="days">
	@for(int i = 1; i <= Model.DaysInMonth; i++)
	{
		<li>@i</li>
	}
</ul>

<a class="btn btn-primary" href="/Exams/Exam_Page/?Create=0">Tilføj</a>

<table class="table">
	<form method="get">
		<thead>
			<tr>
				<th scope="col">
					<input type="text" class="form-control" asp-for="Name" placeholder="Navn" />
				</th>
				<th scope="col">
					<select asp-for="ExamType" asp-items="Html.GetEnumSelectList<ExamTypeEnum>()" class="form-select">
						<option value="">Alle</option>
					</select>
					@* <input type="int" class="form-control" asp-for="ExamType" placeholder="Eksamens type" /> *@
				</th>
				<th scope="col">
					<select asp-for="IsGuarded" class="form-select">
						<option value="">Alle</option>
						<option value="true">Ja</option>
						<option value="false">Nej</option>
					</select>
					@* <input type="checkbox" asp-for="IsGuarded" placeholder="Eksamens vagt" /> *@
				</th>
				<th scope="col">
					<select asp-for="NeedExternalExaminer" class="form-select"> 
						<option value="">Alle</option>
						<option value="true">Ja</option>
						<option value="false">Nej</option>
					</select>
					@* <input type="checkbox" asp-for="NeedExternalExaminer" placeholder="Udenfra kommende censor" /> *@
				</th>
				<th scope="col">
					<input type="datetime" class="form-control" asp-for="FirstExamDate" placeholder="Første eksamens dag" />
				</th>
				<th scope="col">
					<input type="datetime" class="form-control" asp-for="LastExamDate" placeholder="Sidste eksamens dag" />
				</th>
				<th scope="col">
					<input type="datetime" class="form-control" asp-for="HandInDeadline" placeholder="Deadline for aflevering, hvis skriftlig" />
				</th>
				<th scope="col">
					<input type="number" min="0" class="form-control" asp-for="DurationInMinutes" placeholder="Eksamens varighed" />
				</th>
				<th scope="col">
					<button type="submit" class="btn btn-primary">Søg</button>
				</th>
			</tr>
		</thead>
	@if (Model.AreYouAnIdiot)
	{
		<label style="color: red">Er du dum eller hva' ???</label>
	}
	</form>
		<thead>
			<tr>
				<th scope="col" >
					Navn
				</th>
				<th scope="col">
					Eksamens type
				</th>
				<th scope="col">
					Med vagt
				</th>
				<th scope="col">
					Ekstern censor
				</th>
				<th scope="col">
					Eksamens start
				</th>
				<th scope="col">
					Eksamens Slut
				</th>
				<th scope="col">
					Deadline for aflevering
				</th>
				<th scope="col">
					Eksmaens varighed
				</th>
				<th scope="col">
				
				</th>
			
			</tr>
		</thead>
	<tbody>
		@foreach (var exam in Model.Exams)
		{
			<tr>
				<td>
					@exam.Name
				</td>
				<td>
					@((ExamTypeEnum)exam.ExamType)
				</td>
				<td>
					@(exam.IsGuarded ? "Ja" : "Nej")
				</td>
				<td>
					@(exam.NeedExternalExaminer ? "Ja" : "Nej")
				</td>
				<td>
					@exam.FirstExamDate
				</td>
				<td>
					@exam.LastExamDate
				</td>
				<td>
					@exam.HandInDeadline
				</td>
				<td>
					@exam.DurationInMinutes minutter
				</td>
				<td>
					<form method="get">
						<a href="/Exams/Exam_page/?Update=@exam.Id" class="btn btn-primary" style="float: left;" type="submit">
							Opdater
						</a>
					</form>
				</td>
				<td>
					<form method="get">
					<a href="/Exams/Exam_Page/?Delete=@exam.Id" class="btn btn-danger" type="submit">
						Slet
					</a>
					</form>
				</td>
			</tr>
		}
</table>


@if (Model.ShowDelete)
{
	<!-- Modal -->
	<div style="display: block;" class="modal" id="myModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Er du sikker på du vil slette denne eksamen?</h4>
					<a href="/Exams/Exam_Page" type="button" class="btn btn-close"></a>
				</div>
				<!-- Modal body -->
				<div class="modal-body">
					@Model.Exam.Name
				</div>
				<!-- Modal footer -->
				<div class="modal-footer">
					<form method="post">
					<button type="submit" class="btn btn-danger">Ja</button>
					</form>
					<a href="/Exams/Exam_Page" type="button" class="btn btn-primary">Nej</a>
				</div>
			</div>
		</div>
	</div>
}	
@if (Model.ShowCreate)
{
	<!-- Modal -->
	<div style="display: block;" class="modal" id="myModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Tilføj ny eksamen</h4>
					<a href="/Exams/Exam_Page" type="button" class="btn btn-close"></a>
				</div>
				<!-- Modal body -->
				<form method="post" asp-page-handler="Create">
					<div class="modal-body">
						<table class="table">
							<tbody>
								<tr>
									<th scope="col">
										Navn
									</th>
									<td>
										<input asp-for="Exam.Name" class="form-control" />
									</td>
								</tr>
								<tr>
									<th scope="col">
										Eksamens type
									</th>
									<td>
										<select asp-for="ExamType" asp-items="Html.GetEnumSelectList<ExamTypeEnum>()" class="form-select">
											<option value="">Vælg type</option>
										</select>
									</td>
								</tr>
								<tr>
									<th scope="col">
										Med vagt
									</th>
									<td>
										<select asp-for="IsGuarded" class="form-select">
											<option value="">Alle</option>
											<option value="true">Ja</option>
											<option value="false">Nej</option>
										</select>
									</td>
								</tr>
								<tr>
									<th scope="col">
										Ekstern censor
									</th>
									<td>
										<select asp-for="NeedExternalExaminer" class="form-select">
											<option value="">Alle</option>
											<option value="true">Ja</option>
											<option value="false">Nej</option>
										</select>
									</td>
								</tr>
								<tr>
									<th scope="col">
										Eksamens start
									</th>
									<td>
										<input asp-for="Exam.FirstExamDate" class="form-control" />
									</td>
								</tr>
								<tr>
									<th scope="col">
										Eksamens Slut
									</th>
									<td>
										<input asp-for="Exam.LastExamDate" class="form-control" />
									</td>
								</tr>
								<tr>
									<th scope="col">
										Deadline for aflevering
									</th>
									<td>
										<input asp-for="Exam.HandInDeadline" class="form-control" />
									</td>
								</tr>
								<tr>
									<th scope="col">
										Eksmaens varighed
									</th>
									<td>
										<input asp-for="Exam.DurationInMinutes" class="form-control" />
									</td>
                                </tr>
                            </tbody>
						</table>
					</div>
					<!-- Modal footer -->
					<div class="modal-footer">
					
						<button type="submit" class="btn btn-primary">Opret</button>
						<a href="/Exams/Exam_Page" type="button" class="btn btn-danger">Annuller</a>
					</div>
				</form>
			</div>
		</div>
	</div>
}

@if (Model.ShowUpdate)
{
	<!-- Modal -->
	<div style="display: block;" class="modal" id="myModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Opdater eksamen</h4>
					<a href="/Exams/Exam_Page" type="button" class="btn btn-close"></a>
				</div>
				<!-- Modal body -->
				<form method="post" asp-page-handler="Update" asp-route-id="@Model.Exam.Id">
				<div class="modal-body">
					<table class="table">
						<thead>
							<tr>
								<th></th>
								<th>
									Oprindelig information
								</th>
								<th>
									Opdateret information
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th scope="col">
									Navn
								</th>
								<td>
									@Model.Exam.Name
								</td>
									<td>
										<input asp-for="Exam.Name" class="form-control" />
									</td>
							</tr>
							<tr>
								<th scope="col">
									Eksamens type
								</th>
								<td>
									@((ExamTypeEnum)Model.Exam.ExamType)
								</td>
								<td>
									<select asp-for="ExamType" asp-items="Html.GetEnumSelectList<ExamTypeEnum>()" class="form-select">
									</select>
								</td>
								
							</tr>
							<tr>
								<th scope="col">
									Med vagt
								</th>
								<td>
										@(Model.Exam.IsGuarded  ? "Ja" : "Nej")
                                </td>
								<td>
										<select asp-for="IsGuarded" class="form-select">
											<option value="">Alle</option>
											<option value="true">Ja</option>
											<option value="false">Nej</option>
										</select>
								</td>
									
							</tr>
							<tr>
								<th scope="col">
									Ekstern censor
								</th>
								<td>
										@(Model.Exam.NeedExternalExaminer ? "Ja" : "Nej")
								</td>
								<td>
										<select asp-for="NeedExternalExaminer" class="form-select">
											<option value="">Alle</option>
											<option value="true">Ja</option>
											<option value="false">Nej</option>
										</select>
								</td>
									
							</tr>
							<tr>
								<th scope="col">
									Eksamens start
								</th>
								<td>
									@Model.Exam.FirstExamDate
								</td>
								<td>
									<input asp-for="Exam.FirstExamDate" class="form-control" />
								</td>
									
							</tr>
							<tr>
								<th scope="col">
									Eksamens Slut
								</th>
								<td>
									@Model.Exam.LastExamDate
								</td>
								<td>
									<input asp-for="Exam.LastExamDate" class="form-control" />
								</td>
									
							</tr>
							<tr>
								<th scope="col">
									Deadline for aflevering
								</th>
								<td>
									@Model.Exam.HandInDeadline
								</td>
								<td>
									<input asp-for="Exam.HandInDeadline" class="form-control" />
								</td>
									
							</tr>
							<tr>
								<th scope="col">
									Eksmaens varighed
								</th>
								<td>
									@Model.Exam.DurationInMinutes
								</td>
								<td>
									<input asp-for="Exam.DurationInMinutes" class="form-control" />
								</td>
							</tr>
                        </tbody>
					</table>
				</div>
				<!-- Modal footer -->
				<div class="modal-footer">
					
					<button type="submit" class="btn btn-primary">Opdater</button>
					<a href="/Exams/Exam_Page" type="button" class="btn btn-danger">Annuller</a>
				</div>
				</form>
			</div>
		</div>
	</div>
}

@if (Model.ShowCalendar)
{

}







@section Scripts 
{
	<script>
		$(document).ready(function () {
			$("#myModal").modal({backdrop: "static"});
			$("#myModal").modal("show");
		});)
	</script>	
}